# 处理插件

![loongcollector 处理插件架构](<../../.gitbook/assets/processor.png>)

## 概述

处理插件用于对采集到的数据进行解析、过滤和加工。LoongCollector 提供了三种处理引擎，以满足不同场景的数据处理需求：

- 原生插件引擎(C++)
- 扩展插件引擎(Golang)
- SPL引擎

这三种引擎可以灵活组合使用，通过统一的 Event 数据模型，支持处理包括日志、指标、追踪、事件、性能剖析等多种可观测数据。

## 处理引擎介绍

### 原生插件引擎

- 采用C++实现，性能最优，资源开销极低
- 提供常用的数据处理算子
- 适用于大部分标准的数据处理场景
- 推荐作为首选的处理方案

### 扩展插件引擎

- 采用Golang实现，性能和资源开销适中
- 支持更丰富的处理功能
- 开发门槛低，易于定制开发
- 适用于复杂的数据处理场景

### SPL引擎

- 基于C++实现的列式计算引擎
- 采用向量化执行，性能优异
- 提供全面的数据处理算子
- 支持管道式处理，可以灵活组合处理逻辑
- 通过配置即可完成复杂数据处理，无需编码

## 引擎特性对比

| 引擎类型 | 实现语言 | 性能特点 | 功能特点 | 开发难度 |
|---------|---------|---------|---------|---------|
| 原生插件 | C++ | 性能最优<br>资源开销极低 | 常用算子<br>标准处理场景 | 中等<br>需要C++开发能力 |
| 扩展插件 | Golang | 性能适中<br>资源开销较低 | 丰富算子<br>支持复杂处理 | 较低<br>Golang开发门槛低 |
| SPL引擎 | C++ | 性能优异<br>向量化执行 | 算子全面<br>管道式处理<br>配置驱动 | 极低<br>仅需编写SPL语句 |

## 使用限制

1. 原生插件仅支持处理:
   - 文本日志
   - 容器标准输出

2. 插件组合规则:
   - 支持原生插件与扩展插件级联
   - 原生插件必须在扩展插件之前使用
   - 支持的使用模式:
     - 仅使用原生插件
     - 仅使用扩展插件
     - 原生插件后接扩展插件

## 选型建议

- 追求性能: 优先使用原生插件
- 处理复杂数据: 选择SPL引擎
- 需要定制开发: 使用扩展插件
- 混合处理场景: 采用级联模式
